(function(){"use strict";var e={255:function(e,t,o){var n=o(963),i=o(252);const l={id:"app",class:"small-container"},a=(0,i._)("h1",null,"Employees",-1);function s(e,t,o,n,s,r){const m=(0,i.up)("employee-form"),c=(0,i.up)("employee-table");return(0,i.wg)(),(0,i.iD)("div",l,[a,(0,i.Wm)(m,{"onAdd:employee":r.addEmployee},null,8,["onAdd:employee"]),(0,i.Wm)(c,{employees:s.employees,"onDelete:employee":r.deleteEmployee,"onEdit:employee":r.editEmployee},null,8,["employees","onDelete:employee","onEdit:employee"])])}var r=o(577);const m=e=>((0,i.dD)("data-v-eab1ac5e"),e=e(),(0,i.Cn)(),e),c={id:"employee-table"},d={key:0,class:"empty-table"},p={key:1},u=m((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Name"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Actions")])],-1))),y={key:0},h=["onUpdate:modelValue"],f={key:1},g={key:2},b=["onUpdate:modelValue"],v={key:3},w={key:4},E=["onClick"],_=["onClick"],k={key:5},D=["onClick"],j=["onClick"];function C(e,t,o,l,a,s){return(0,i.wg)(),(0,i.iD)("div",c,[o.employees.length<1?((0,i.wg)(),(0,i.iD)("p",d," No employees ")):((0,i.wg)(),(0,i.iD)("table",p,[u,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.employees,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id},[a.editing===t.id?((0,i.wg)(),(0,i.iD)("td",y,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>t.name=e},null,8,h),[[n.nr,t.name]])])):((0,i.wg)(),(0,i.iD)("td",f,(0,r.zw)(t.name),1)),a.editing===t.id?((0,i.wg)(),(0,i.iD)("td",g,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e=>t.email=e},null,8,b),[[n.nr,t.email]])])):((0,i.wg)(),(0,i.iD)("td",v,(0,r.zw)(t.email),1)),a.editing===t.id?((0,i.wg)(),(0,i.iD)("td",w,[(0,i._)("button",{onClick:e=>s.editEmployee(t)},"Save",8,E),(0,i._)("button",{class:"muted-button",onClick:e=>s.cancelEdit(t)},"Cancel",8,_)])):((0,i.wg)(),(0,i.iD)("td",k,[(0,i._)("button",{onClick:e=>s.editMode(t)},"Edit",8,D),(0,i._)("button",{onClick:o=>e.$emit("delete:employee",t.id)},"Delete",8,j)]))])))),128))])]))])}var O={name:"employee-table",props:{employees:Array},data(){return{editing:null}},methods:{editMode(e){this.cachedEmployee=Object.assign({},e),this.editing=e.id},cancelEdit(e){Object.assign(e,this.cachedEmployee),this.editing=null},editEmployee(e){""!==e.name&&""!==e.email&&(this.$emit("edit:employee",e.id,e),this.editing=null)}}},S=o(744);const U=(0,S.Z)(O,[["render",C],["__scopeId","data-v-eab1ac5e"]]);var x=U;const T=e=>((0,i.dD)("data-v-604068e0"),e=e(),(0,i.Cn)(),e),N={id:"employee-form"},F=T((()=>(0,i._)("label",null,"Employee name",-1))),V=T((()=>(0,i._)("label",null,"Employee Email",-1))),$={key:0,class:"error-message"},A={key:1,class:"success-message"},P=T((()=>(0,i._)("button",null,"Add Employee",-1)));function q(e,t,o,l,a,s){return(0,i.wg)(),(0,i.iD)("div",N,[(0,i._)("form",{onSubmit:t[5]||(t[5]=(0,n.iM)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[F,(0,i.wy)((0,i._)("input",{ref:"first",type:"text",class:(0,r.C_)({"has-error":a.submitting&&s.invalidName}),"onUpdate:modelValue":t[0]||(t[0]=e=>a.employee.name=e),onFocus:t[1]||(t[1]=(...e)=>s.clearStatus&&s.clearStatus(...e)),onKeypress:t[2]||(t[2]=(...e)=>s.clearStatus&&s.clearStatus(...e))},null,34),[[n.nr,a.employee.name]]),V,(0,i.wy)((0,i._)("input",{type:"text",class:(0,r.C_)({"has-error":a.submitting&&s.invalidEmail}),"onUpdate:modelValue":t[3]||(t[3]=e=>a.employee.email=e),onFocus:t[4]||(t[4]=(...e)=>s.clearStatus&&s.clearStatus(...e))},null,34),[[n.nr,a.employee.email]]),a.error&&a.submitting?((0,i.wg)(),(0,i.iD)("p",$,"❗Please fill out all required fields")):(0,i.kq)("",!0),a.success?((0,i.wg)(),(0,i.iD)("p",A,"✅ Employee successfully added")):(0,i.kq)("",!0),P],32)])}var M={name:"employee-form",data(){return{error:!1,submitting:!1,success:!1,employee:{name:"",email:""}}},computed:{invalidName(){return""===this.employee.name},invalidEmail(){return""===this.employee.email}},methods:{handleSubmit(){this.clearStatus(),this.submitting=!0,this.invalidName||this.invalidEmail?this.error=!0:(this.$emit("add:employee",this.employee),this.$refs.first.focus(),this.employee={name:"",email:""},this.success=!0,this.error=!1,this.submitting=!1)},clearStatus(){this.success=!1,this.error=!1}}};const Z=(0,S.Z)(M,[["render",q],["__scopeId","data-v-604068e0"]]);var z=Z,I={name:"app",components:{EmployeeTable:x,EmployeeForm:z},data(){return{employees:[]}},mounted(){this.getEmployees()},methods:{async getEmployees(){try{const e=await fetch("https://jsonplaceholder.typicode.com/users"),t=await e.json();this.employees=t}catch(e){console.error(e)}},async addEmployee(e){try{const t=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}),o=await t.json();this.employees=[...this.employees,o]}catch(t){console.error(t)}},async editEmployee(e,t){try{const o=await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}),n=await o.json();this.employees=this.employees.map((t=>t.id===e?n:t))}catch(o){console.error(o)}},async deleteEmployee(e){try{await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"DELETE"}),this.employees=this.employees.filter((t=>t.id!==e))}catch(t){console.error(t)}}}};const J=(0,S.Z)(I,[["render",s]]);var K=J;(0,n.ri)(K).mount("#app")}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,l){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],l=e[c][2];for(var s=!0,r=0;r<n.length;r++)(!1&l||a>=l)&&Object.keys(o.O).every((function(e){return o.O[e](n[r])}))?n.splice(r--,1):(s=!1,l<a&&(a=l));if(s){e.splice(c--,1);var m=i();void 0!==m&&(t=m)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,i,l]}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,l,a=n[0],s=n[1],r=n[2],m=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(r)var c=r(o)}for(t&&t(n);m<a.length;m++)l=a[m],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},n=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(255)}));n=o.O(n)})();
//# sourceMappingURL=app.3d768b8a.js.map